[user]
    name = Brandon W Maister

[alias]
    st = status
    s = status --short --branch
    ci = commit
    co = checkout
    # update main
    sync = fetch origin main:main

    # Basic format for all log calls
    # (nb aliases aren't allowed to have underscores)
    lg-base = log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%ci) %C(bold blue)<%an>%Creset' --abbrev-commit
    lg-exclude-prs = lg-base --decorate-refs-exclude='refs/pullreqs/*'

    # log commands
    lg = lg-exclude-prs
    lga = lg --branches=* --remotes=*
    # log short -- only 15 commits
    lgs = lg -15
    lgsa = lgs --branches=* --remotes=*
    # log with prs
    lgp = lg-base
    lgpa = lgp --branches=* --remotes=*

    # highlight branches
    tree-base = lga --simplify-by-decoration --decorate-refs-exclude='refs/pullreqs/*' --decorate-refs-exclude='refs/tags/*'
    tree = tree-base --decorate-refs-exclude='refs/remotes/*/*'

    # unmerged branches
    bt = !"git tree-base --color=always | grep -Ev $( git branch --all --merged  | sed -E -e 's/ //g' -e '/^\\*/d' | tr '\n' '|' | sed -E 's/(\\|$|^\\|)//g' ) | less -XRF"
    branchfiles = !"git diff --name-only @ $(git merge-base @ main)"
    mergedfiles = !"git diff --name-only HEAD^2 $(git merge-base HEAD^2 HEAD^ )"
    ix = diff --cached
    root = rev-parse --show-toplevel
    find = !git rev-list --all --abbrev-commit | xargs git grep -F
    which-pr = describe --all --contains
    commit-files = diff-tree --no-commit-id --name-only -r
    who = shortlog -s --
    delmerged = !"git branch --merged | rg -v '\\*|master' | xargs -n 1 git branch -d"
    clean-branches = !"git delmerged"
    pushf = push --force-with-lease

[help]
    autocorrect = 1

[core]
    editor = vim
    pager = delta --dark '--theme=Dracula'

[interactive]
    diffFilter = delta --color-only

[push]
    default = simple
[fetch]
    prune = true
[diff]
    algorithm = histogram
    colorMoved = zebra
    indentHeuristic = true
    submodule = log

[rebase]
    autosquash = true
    autoStash = true

[pull]
    rebase = true

[color]
    ui = true

; [color "diff"]
;     meta = yellow bold
;     commit = green bold
;     frag = magenta bold
;     old = red bold
;     new = green bold
;     whitespace = red reverse
; [color "diff-highlight"]
;     oldNormal = red bold
;     oldHighlight = "red bold 52"
;     newNormal = "green bold"
;     newHighlight = "green bold 22"

[color "status"]
    added = green
    changed = yellow
    untracked = red

[merge]
    conflictstyle = diff3

[github]
    user = quodlibetor

[submodule]
    recurse = true

[remote "origin"]
    prune = true

[remote "me"]
    prune = true

[rerere]
    enabled = true

[init]
    defaultBranch = main

[delta]
    side-by-side = false

[advice]
    detachedHead = false
